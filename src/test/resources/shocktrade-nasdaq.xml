<?xml version="1.0" ?>
<topology-config>

    <properties id="KafkaProps">
        <property key="topic" value="shocktrade.quotes.yahoo.avro" />
        <property key="brokers" value="dev501:9091,dev501:9092,dev501:9093,dev501:9094,dev501:9095,dev501:9096" />
    </properties>

    <topology id="QuoteImportTopology" class="com.shocktrade.topologies.NASDAQSymbolImportTopology" properties-ref="KafkaProps" />

    <topology id="EodDataImportTopology" class="com.shocktrade.topologies.EODDATAImportTopology" properties-ref="KafkaProps" />

    <topology id="EodDataImportTopology2" class="com.shocktrade.topologies.EODDATAImportTopology">
        <property key="topic" value="shocktrade.quotes.yahoo.avro" />
        <property key="brokers" value="dev501:9091,dev501:9092,dev501:9093,dev501:9094,dev501:9095,dev501:9096" />
    </topology>

    <location id="NASDAQ" path="/Users/ldaniels/broadway/incoming/nasdaq">
        <feed match="exact" name="AMEX.txt" topology-ref="QuoteImportTopology" />
        <feed match="exact" name="NASDAQ.txt" topology-ref="QuoteImportTopology" />
        <feed match="exact" name="NYSE.txt" topology-ref="QuoteImportTopology" />
        <feed match="exact" name="OTCBB.txt" topology-ref="QuoteImportTopology" />
    </location>

    <location id="NASDAQ" path="/Users/ldaniels/broadway/incoming/dependencies">
        <feed match="exact" name="AMEX.txt" topology-ref="QuoteImportTopology">
            <depends on="NYSE.txt" />
        </feed>
        <feed match="exact" name="NASDAQ.txt" topology-ref="QuoteImportTopology" />
        <feed match="exact" name="NYSE.txt" topology-ref="QuoteImportTopology">
            <depends on="NASDAQ.txt" />
        </feed>
        <feed match="exact" name="OTCBB.txt" topology-ref="QuoteImportTopology">
            <depends on="AMEX.txt" />
        </feed>
    </location>

    <location id="EODDATA" path="/Users/ldaniels/broadway/incoming/tradingHistory">
        <feed name="AMEX(.*)[.]txt" match="regex" topology-ref="EodDataImportTopology" />
        <feed name="NASDAQ(.*)[.]txt" match="regex" topology-ref="EodDataImportTopology" />
        <feed name="NYSE(.*)[.]txt" match="regex" topology-ref="EodDataImportTopology" />
        <feed name="OTCBB(.*)[.]txt" match="regex" topology-ref="EodDataImportTopology" />
    </location>

</topology-config>