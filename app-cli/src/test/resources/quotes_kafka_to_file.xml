<?xml version="1.0" encoding="UTF-8" ?>
<etl-config id="quotes-kafka-to-file">

    <triggers>
        <KafkaTrigger id="quotes-data"
                      topic="com.shocktrade.quotes.avro"
                      parallelism="10"
                      connectionString="vault114:2181"
                      input-layout="input_layout"
                      output="fixed_output"
                      output-layout="output_layout">

        </KafkaTrigger>
    </triggers>

    <devices>
        <TextFileOutputSource id="fixed_output" path="/tmp/quotes_data_json.txt" />
    </devices>

    <layouts>
        <KafkaMessageLayout id="input_layout">
            <key />
            <message>
                <fields type="csv">
                    <field auto-trim="yes">ticker</field>
                    <field auto-trim="yes">date</field>
                    <field auto-trim="yes">open</field>
                    <field auto-trim="yes">high</field>
                    <field auto-trim="yes">low</field>
                    <field auto-trim="yes">close</field>
                    <field auto-trim="yes">vol</field>
                </fields>
            </message>
        </KafkaMessageLayout>

        <TextLayout id="output_layout">
            <body>
                <fields type="csv">
                    <field auto-trim="yes">ticker</field>
                    <field auto-trim="yes">date</field>
                    <field auto-trim="yes">open</field>
                    <field auto-trim="yes">high</field>
                    <field auto-trim="yes">low</field>
                    <field auto-trim="yes">close</field>
                    <field auto-trim="yes">vol</field>
                </fields>
            </body>
        </TextLayout>
    </layouts>
</etl-config>